# Cat API
Simple CRUD API for managing a database of Cats

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/Spooky-8-Pack/Assignment-3-CRUD-API.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/Spooky-8-Pack/Assignment-3-CRUD-API/blob/main/pom.xml) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`](https://github.com/Spooky-8-Pack/Assignment-3-CRUD-API/blob/main/src/main/resources/application.properties) This file has the configuration for the PostgreSQL database to use for the API.
  - You MUST have the database up and running before running the project!
    - Login to your neon.tech account.
    - Locate your database project.
    - On the project dashboard, click on "Connect" and select Java.
    - Copy the connection string provided.
    - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
- Build and run the main class. You should see a new table created in the Neon database.
## Video Demo
[Video Demo Link](https://uncg-my.sharepoint.com/personal/agaldridge_uncg_edu/_layouts/15/stream.aspx?id=%2Fpersonal%2Fagaldridge%5Funcg%5Fedu%2FDocuments%2FCat%20API%20demo%20Adrian%20Aldridge%2Emp4&referrer=StreamWebApp%2EWeb&referrerScenario=AddressBarCopied%2Eview%2E54ab54cc%2D0821%2D4e45%2D9ac3%2D11548fa5f733)

## API Endpoints
Base URL: [`http://localhost:8080/cats`](http://localhost:8080/cats)

1. ### [`/`](http://localhost:8080/cats) (GET)
Gets a list of all cats in the database.

#### Response - A JSON array of Cat objects.

 ```
[
  {
    "name": "Orion",
    "description": "Sweet",
    "breed": "Tabby\t",
    "age": 6.0,
    "catID": 9
  },
  {
    "name": "Babycat",
    "description": "Sad",
    "breed": "Half-Tuxedo",
    "age": 18.0,
    "catID": 10
  },
  {
    "name": "TT",
    "description": "Greedy",
    "breed": "Tortie",
    "age": 19.0,
    "catID": 11
  },
  {
    "name": "Benny",
    "description": "Lazy",
    "breed": "Tabby",
    "age": 2.0,
    "catID": 12
  },
  {
    "name": "Diesel",
    "description": "Fiesty",
    "breed": "Tuxedo",
    "age": 8.0,
    "catID": 13
  }
]
```

2. ### [`/{catId}`](http://localhost:8080/cats/9) (GET)
Gets an individual cat in the system. Each cat is identified by a numeric `catId`

#### Parameters
- Path Variable: `catId` &lt;Long &gt; - REQUIRED

#### Response - A single Cat

```
{
    "name": "Orion",
    "description": "Sweet",
    "breed": "Tabby\t",
    "age": 6.0,
    "catID": 9
}
```

3. ### [`/name`](http://localhost:8080/cats/name?key=TT) (GET)
Gets a list of cats with a name that contains the given string.

#### Parameters
- query parameter: `search` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Cat objects.

```
[
  {
    "name": "TT",
    "description": "Greedy",
    "breed": "Tortie",
    "age": 19.0,
    "catID": 11
  }
]
```

4. ### [`/breed/{breed}`](http://localhost:8080/cats/breed/Tuxedo) (GET)
Gets a list of cats of a certain breed.

#### Parameters
- path variable: `major` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Cat objects.

```
[
  {
    "name": "Diesel",
    "description": "Fiesty",
    "breed": "Tuxedo",
    "age": 8.0,
    "catID": 13
  }
]
```
5. ### [`/elderly`](http://localhost:8080/cats/elderly) (GET)
Gets a list of cats with an age greater than or equal to a certain age.

#### Parameters
- query parameter: `gpa` &lt;Double&gt; - REQUIRED

#### Response - A JSON array of Cat objects.

```
[
  {
    "name": "Babycat",
    "description": "Sad",
    "breed": "Half-Tuxedo",
    "age": 18.0,
    "catID": 10
  },
  {
    "name": "TT",
    "description": "Greedy",
    "breed": "Tortie",
    "age": 19.0,
    "catID": 11
  },
  {
    "name": "Diesel",
    "description": "Fiesty",
    "breed": "Tuxedo",
    "age": 8.0,
    "catID": 13
  }
]
```
6. ### [`/`](http://localhost:8080/cats) (POST)
Create a new cat entry

#### Request Body
A cat object. Note the object does not include an ID as this is autogenerated.
```
{
  "name": "Chicken",
  "description": "Mysterious",
  "breed": "Sphynx",
  "age": 3.0,
}
```
#### Response - The newly created cat.

```
 {
  "name": "Chicken",
  "description": "Mysterious",
  "breed": "Sphynx",
  "age": 3.0,
  "catID": 14
}
```

7. ### [`/{catId}`](http://localhost:8080/cats/11) (PUT)
Update an existing cat.

#### Parameters
- Path Variable: `catId` &lt;integer&gt; - REQUIRED

#### Request Body
A cat object with the updates.
```
{
    "name": "TT",
    "description": "Greedy",
    "breed": "Tortie",
    "age": 20.0,
    "catID": 11
}
```
#### Response - the updated cat object.
```
{
    "name": "TT",
    "description": "Greedy",
    "breed": "Tortie",
    "age": 20.0,
    "catID": 11
}
```

8. ### [`/{catId}`](http://localhost:8080/cats/14) (DELETE)
Delete an existing cat.

#### Parameters
- Path Variable: `catId` &lt;integer&gt; - REQUIRED

#### Response - the updated list of cats.
```
[
  {
    "name": "Orion",
    "description": "Sweet",
    "breed": "Tabby\t",
    "age": 6.0,
    "catID": 9
  },
  {
    "name": "Babycat",
    "description": "Sad",
    "breed": "Half-Tuxedo",
    "age": 18.0,
    "catID": 10
  },
  {
    "name": "TT",
    "description": "Greedy",
    "breed": "Tortie",
    "age": 19.0,
    "catID": 11
  },
  {
    "name": "Benny",
    "description": "Lazy",
    "breed": "Tabby",
    "age": 2.0,
    "catID": 12
  },
  {
    "name": "Diesel",
    "description": "Fiesty",
    "breed": "Tuxedo",
    "age": 8.0,
    "catID": 13
  }
]
```
